<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>部门列表</title>
    </head>
    <body>
        <div class="layui-fluid">
            <blockquote class="layui-elem-quote quoteBox">
                <form class="layui-form">
                    <div class="layui-inline">
                        <shiro:hasPermission name="depmsg:add"><a class="layui-btn btn-add layui-btn-normal addNews_btn" lay-event="add">添加</a></shiro:hasPermission>
                    </div>
                </form>
            </blockquote>
            <table id="table_obj" lay-filter="obj"></table>
            <div class="layui-fluid">
                <p type="text/html" id="bar" style="display: none">
                    <shiro:hasPermission name="depmsg:del"><a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del" title="删除">删</a></shiro:hasPermission>
                    <shiro:hasPermission name="depmsg:edit"><a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="edit" title="修改">改</a></shiro:hasPermission>
                </p>
            </div>
    </body>
    <script src="../../public/bus.js"></script>
    <script th:inline="javascript">
        /*<![CDATA[*/
        var pMenus = [[${pMenus}]];
        /*]]>*/
    </script>
    <script  type="text/html" id="parentMenucode">
        {{#
        if(d.parentMenucode != '' && d.parentMenucode != null && d.parentMenucode !='ROOT'){
        for(var menu of pMenus){
        if(menu.menuCode==d.parentMenucode){return menu.menuName;}
        }
        }else{
        return '顶级菜单';
        }
        }}
    </script>
    <!--直接在；layui中使用thymeleaf 取作用域中的值 产生中文变成Unicode的问题-->
    <script  type="text/html" id="menuType">
        {{#
        if(d.menuType != '' && d.menuType != null){
        if(d.menuType=='1')return '子菜单';
        if(d.menuType=='0')return '父菜单';
        }
        }}
    </script>
    <script src="../../js/department/department.js"></script>
</html>